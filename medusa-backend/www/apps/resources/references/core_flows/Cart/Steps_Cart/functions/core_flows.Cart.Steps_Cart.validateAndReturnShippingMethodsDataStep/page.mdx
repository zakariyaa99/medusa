---
slug: /references/medusa-workflows/steps/validateAndReturnShippingMethodsDataStep
sidebar_label: validateAndReturnShippingMethodsDataStep
tags:
  - fulfillment
  - step
---

import { TypeList, WorkflowDiagram } from "docs-ui"

# validateAndReturnShippingMethodsDataStep - Medusa Core Workflows Reference

This documentation provides a reference to the `validateAndReturnShippingMethodsDataStep`. It belongs to the `@medusajs/medusa/core-flows` package.

This step validates shipping options to ensure they can be applied on a cart.
The step either returns the validated data or void.

## Example

```ts
const data = validateAndReturnShippingMethodsDataStep({
  id: "sm_123",
  provider_id: "my_provider",
  option_data: {},
  method_data: {},
  context: {
    id: "cart_123",
    shipping_address: {
      id: "saddr_123",
      first_name: "Jane",
      last_name: "Smith",
      address_1: "456 Elm St",
      city: "Shelbyville",
      country_code: "us",
      postal_code: "67890",
    },
    items: [
      {
        variant: {
          id: "variant_123",
          weight: 1,
          length: 1,
          height: 1,
          width: 1,
          material: "wood",
          product: {
            id: "prod_123"
          }
        }
      }
    ],
    product: {
      id: "prod_123",
      collection_id: "pcol_123",
      categories: [],
      tags: []
    },
    from_location: {
      id: "sloc_123",
      first_name: "John",
      last_name: "Doe",
      address_1: "123 Main St",
      city: "Springfield",
      country_code: "us",
      postal_code: "12345",
    },
  }
})
```

## Input

<TypeList types={[{"name":"ValidateShippingMethodsDataInput","type":"[ValidateShippingMethodsDataInput](../../../../types/core_flows.ValidateShippingMethodsDataInput/page.mdx)","optional":false,"defaultValue":"","description":"The details of the shipping methods to validate.","expandable":false,"children":[{"name":"id","type":"`string`","description":"The shipping method's ID.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"provider_id","type":"`string`","description":"The fulfillment provider ID that associated with the shipping option\nthat the method was created from.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"option_data","type":"`Record<string, unknown>`","description":"The `data` property of the shipping option that the shipping method was\ncreated from.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"method_data","type":"`Record<string, unknown>`","description":"The `data` property of the shipping method.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"context","type":"[ValidateFulfillmentDataContext](../../../../../types/types/types.ValidateFulfillmentDataContext/page.mdx)","description":"The context to validate the shipping method.","optional":false,"defaultValue":"","expandable":false,"children":[{"name":"id","type":"[CartDTO](../../../../../fulfillment/interfaces/fulfillment.CartDTO/page.mdx)[`\"id\"`]","description":"The cart's ID.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"shipping_address","type":"[CartDTO](../../../../../fulfillment/interfaces/fulfillment.CartDTO/page.mdx)[`\"shipping_address\"`]","description":"The cart's shipping address.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"items","type":"[CartDTO](../../../../../fulfillment/interfaces/fulfillment.CartDTO/page.mdx)[`\"items\"`] & `object`","description":"The cart's items","optional":false,"defaultValue":"","expandable":false,"children":[{"name":"variant","type":"`object`","description":"The item's variant.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"product","type":"`object`","description":"The item's product.","optional":false,"defaultValue":"","expandable":false,"children":[]}]},{"name":"from_location","type":"[StockLocationDTO](../../../../../types/StockLocationTypes/types/types.StockLocationTypes.StockLocationDTO/page.mdx)","description":"Details about the location that items are being shipped from.","optional":false,"defaultValue":"","expandable":false,"children":[{"name":"id","type":"`string`","description":"The ID of the stock location.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"name","type":"`string`","description":"The name of the stock location.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"metadata","type":"`Record<string, unknown>` \\| `null`","description":"Holds custom data in key-value pairs.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"address_id","type":"`string`","description":"The associated address's ID.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"fulfillment_sets","type":"[FulfillmentSetDTO](../../../../../fulfillment/interfaces/fulfillment.FulfillmentSetDTO/page.mdx)[]","description":"Fulfillment sets for the location","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"created_at","type":"`string` \\| `Date`","description":"The creation date of the stock location.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"updated_at","type":"`string` \\| `Date`","description":"The update date of the stock location.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"deleted_at","type":"`string` \\| `Date` \\| `null`","description":"The deletion date of the stock location.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"address","type":"[StockLocationAddressDTO](../../../../../types/StockLocationTypes/types/types.StockLocationTypes.StockLocationAddressDTO/page.mdx)","description":"The address of the stock location.","optional":true,"defaultValue":"","expandable":false,"children":[]}]}]}]}]} expandUrl="https://docs.medusajs.com/learn/fundamentals/data-models/manage-relationships#retrieve-records-of-relation" openedLevel={1} sectionTitle="validateAndReturnShippingMethodsDataStep"/>

## Output

<TypeList types={[{"name":"object[]","type":"`object`[]","optional":false,"defaultValue":"","description":"","expandable":false,"children":[]}]} expandUrl="https://docs.medusajs.com/learn/fundamentals/data-models/manage-relationships#retrieve-records-of-relation" openedLevel={1} sectionTitle="validateAndReturnShippingMethodsDataStep"/>
