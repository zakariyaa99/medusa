---
slug: /references/medusa-workflows/listShippingOptionsForOrderWorkflow
sidebar_label: listShippingOptionsForOrderWorkflow
sidebar_description: List a order's shipping options.
tags:
  - workflow
---

import { TypeList, WorkflowDiagram } from "docs-ui"

# listShippingOptionsForOrderWorkflow - Medusa Core Workflows Reference

This documentation provides a reference to the `listShippingOptionsForOrderWorkflow`. It belongs to the `@medusajs/medusa/core-flows` package.

This workflow lists the shipping options of an order. It's executed by the
[List Shipping Options Store API Route](https://docs.medusajs.com/api/store#orders\_getidshippingoptions).

You can use this workflow within your own customizations or custom workflows, allowing you to wrap custom logic around to retrieve the shipping options of an order
in your custom flows.

:::note

This is available starting from [Medusa v2.10.0](https://github.com/medusajs/medusa/releases/tag/v2.10.0).

:::

<SourceCodeLink link="https://github.com/medusajs/medusa/blob/a960fb75c9f662372fd5cd623f883f9d6d8ad473/packages/core/core-flows/src/order/workflows/list-shipping-options-for-order.ts#L35" />

## Examples

<CodeTabs group="workflow-exection">
    <CodeTab label="API Route" value="api-route">
    
```ts title="src/api/workflow/route.ts"
import type {
  MedusaRequest,
  MedusaResponse,
} from "@medusajs/framework/http"
import { listShippingOptionsForOrderWorkflow } from "@medusajs/medusa/core-flows"

export async function POST(
  req: MedusaRequest,
  res: MedusaResponse
) {
  const { result } = await listShippingOptionsForOrderWorkflow(req.scope)
    .run({
      input: {
        order_id: "order_123",
      }
    })

  res.send(result)
}
```

    </CodeTab>
    <CodeTab label="Subscriber" value="subscriber">
    
```ts title="src/subscribers/order-placed.ts"
import {
  type SubscriberConfig,
  type SubscriberArgs,
} from "@medusajs/framework"
import { listShippingOptionsForOrderWorkflow } from "@medusajs/medusa/core-flows"

export default async function handleOrderPlaced({
  event: { data },
  container,
}: SubscriberArgs < { id: string } > ) {
  const { result } = await listShippingOptionsForOrderWorkflow(container)
    .run({
      input: {
        order_id: "order_123",
      }
    })

  console.log(result)
}

export const config: SubscriberConfig = {
  event: "order.placed",
}
```

    </CodeTab>
    <CodeTab label="Scheduled Job" value="scheduled-job">
    
```ts title="src/jobs/message-daily.ts"
import { MedusaContainer } from "@medusajs/framework/types"
import { listShippingOptionsForOrderWorkflow } from "@medusajs/medusa/core-flows"

export default async function myCustomJob(
  container: MedusaContainer
) {
  const { result } = await listShippingOptionsForOrderWorkflow(container)
    .run({
      input: {
        order_id: "order_123",
      }
    })

  console.log(result)
}

export const config = {
  name: "run-once-a-day",
  schedule: "0 0 * * *",
}
```

    </CodeTab>
    <CodeTab label="Another Workflow" value="another-workflow">
    
```ts title="src/workflows/my-workflow.ts"
import { createWorkflow } from "@medusajs/framework/workflows-sdk"
import { listShippingOptionsForOrderWorkflow } from "@medusajs/medusa/core-flows"

const myWorkflow = createWorkflow(
  "my-workflow",
  () => {
    const result = listShippingOptionsForOrderWorkflow
      .runAsStep({
        input: {
          order_id: "order_123",
        }
      })
  }
)
```

    </CodeTab>
  </CodeTabs>

## Steps

<WorkflowDiagram workflow={{"name":"listShippingOptionsForOrderWorkflow","steps":[{"type":"step","name":"validatePresenceOfStep","description":"This step validates the presence of attributes on an object","link":"../../../../Common/Steps_Common/functions/core_flows.Common.Steps_Common.validatePresenceOfStep/page.mdx","depth":1}]}} />

## Input

<TypeList types={[{"name":"ListShippingOptionsForOrderWorkflowInput","type":"[ListShippingOptionsForOrderWorkflowInput](../../../../../types/types/types.ListShippingOptionsForOrderWorkflowInput/page.mdx)","optional":false,"defaultValue":"","description":"The context for retrieving the shipping options.","expandable":false,"children":[{"name":"order_id","type":"`string`","description":"The order's ID.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"is_return","type":"`boolean`","description":"Whether to retrieve return shipping options.\nBy default, non-return shipping options are retrieved.","optional":true,"defaultValue":"false","expandable":false,"children":[]},{"name":"enabled_in_store","type":"`boolean`","description":"Whether to retrieve the shipping option's enabled in the store, which is the default.","optional":true,"defaultValue":"","expandable":false,"children":[]}]}]} expandUrl="https://docs.medusajs.com/learn/fundamentals/data-models/manage-relationships#retrieve-records-of-relation" openedLevel={1} sectionTitle="listShippingOptionsForOrderWorkflow"/>

## Output

<TypeList types={[{"name":"any[]","type":"`any`[]","optional":false,"defaultValue":"","description":"","expandable":false,"children":[{"name":"any","type":"`any`","optional":false,"defaultValue":"","description":"","expandable":false,"children":[]}]}]} expandUrl="https://docs.medusajs.com/learn/fundamentals/data-models/manage-relationships#retrieve-records-of-relation" openedLevel={1} sectionTitle="listShippingOptionsForOrderWorkflow"/>
