---
slug: /references/medusa-workflows/createCompleteReturnValidationStep
sidebar_label: createCompleteReturnValidationStep
sidebar_description: ""
tags:
  - step
---

import { TypeList, WorkflowDiagram } from "docs-ui"

# createCompleteReturnValidationStep - Medusa Core Workflows Reference

This documentation provides a reference to the `createCompleteReturnValidationStep`. It belongs to the `@medusajs/medusa/core-flows` package.

This step validates that a return can be created and completed for an order.
If the order is canceled, the items do not exist in the order,
the return reasons are invalid, or the refund amount is greater than the order total,
the step will throw an error.

:::note

You can retrieve an order details using [Query](https://docs.medusajs.com/learn/fundamentals/module-links/query),
or [useQueryGraphStep](https://docs.medusajs.com/resources/references/medusa-workflows/steps/useQueryGraphStep).

:::

## Example

```ts
const data = createCompleteReturnValidationStep({
  order: {
    id: "order_123",
    // other order details...
  },
  input: {
    order_id: "order_123",
    items: [
      {
        id: "orli_123",
        quantity: 1,
      }
    ]
  }
})
```

## Input

<TypeList types={[{"name":"CreateCompleteReturnValidationStepInput","type":"[CreateCompleteReturnValidationStepInput](../../../../types/core_flows.CreateCompleteReturnValidationStepInput/page.mdx)","optional":false,"defaultValue":"","description":"The data to validate that a return can be created and completed.","expandable":false,"children":[{"name":"order","type":"`any`","description":"The order's details.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"input","type":"[CreateOrderReturnWorkflowInput](../../../../../types/WorkflowTypes/OrderWorkflow/interfaces/types.WorkflowTypes.OrderWorkflow.CreateOrderReturnWorkflowInput/page.mdx)","description":"The data to create a return.","optional":false,"defaultValue":"","expandable":false,"children":[{"name":"order_id","type":"`string`","description":"The ID of the order to return items from.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"items","type":"[CreateReturnItem](../../../../../types/WorkflowTypes/OrderWorkflow/interfaces/types.WorkflowTypes.OrderWorkflow.CreateReturnItem/page.mdx)[]","description":"The items to return.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"created_by","type":"`null` \\| `string`","description":"The ID of the customer that's creating the return","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"return_shipping","type":"`object`","description":"The shipping details of the returned items.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"note","type":"`null` \\| `string`","description":"More details about the return.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"receive_now","type":"`boolean`","description":"Whether to mark the return as received immediately.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"refund_amount","type":"`number`","description":"The amount to refund the customer.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"location_id","type":"`null` \\| `string`","description":"The ID of the location to return the items to.\nIf not provided, the return shipping option's location\nis used.","optional":true,"defaultValue":"","expandable":false,"children":[]}]}]}]} expandUrl="https://docs.medusajs.com/learn/fundamentals/data-models/manage-relationships#retrieve-records-of-relation" openedLevel={1} sectionTitle="createCompleteReturnValidationStep"/>
