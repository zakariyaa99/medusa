import { TypeList } from "docs-ui"

# StepExecutionContext

The step's context.

## Methods

- [ getStepResult](../../StepExecutionContext/methods/workflows.StepExecutionContext._getStepResult/page.mdx)

## Properties

- [ stepDefinition](page.mdx# stepdefinition)
- [action](page.mdx#action)
- [attempt](page.mdx#attempt)
- [container](page.mdx#container)
- [context](page.mdx#context)
- [eventGroupId](page.mdx#eventgroupid)
- [idempotencyKey](page.mdx#idempotencykey)
- [metadata](page.mdx#metadata)
- [parentStepIdempotencyKey](page.mdx#parentstepidempotencykey)
- [preventReleaseEvents](page.mdx#preventreleaseevents)
- [runId](page.mdx#runid)
- [stepName](page.mdx#stepname)
- [transactionId](page.mdx#transactionid)
- [workflowId](page.mdx#workflowid)

___

<TypeList types={[{"name":" stepDefinition","type":"[TransactionStepsDefinition](../../types/workflows.TransactionStepsDefinition/page.mdx)","description":"Get access to the definition of the step.","optional":false,"defaultValue":"","expandable":false,"children":[{"name":"uuid","type":"`string`","description":"A unique identifier for the transaction step.\nThis is set automatically when declaring a workflow with \"createWorkflow\"","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"action","type":"`string`","description":"Specifies the action to be performed in this step.\n\"name\" is an alias for action when creating a workflow with \"createWorkflow\".","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"continueOnPermanentFailure","type":"`boolean`","description":"Indicates whether the workflow should continue even if there is a permanent failure in this step.\nIn case it is set to true, the the current step will be marked as TransactionStepState.PERMANENT\\_FAILURE and the next steps will be executed.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"skipOnPermanentFailure","type":"`boolean` \\| `string`","description":"Indicates whether the workflow should skip all subsequent steps in case of a permanent failure in this step.\nIn case it is set to true, the next steps of the workflow will not be executed and their status will be marked as TransactionStepState.SKIPPED\\_FAILURE.\nIn case it is a string, the next steps until the step name provided will be skipped and the workflow will be resumed from the step provided.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"noCompensation","type":"`boolean`","description":"If true, no compensation action will be triggered for this step in case of a failure.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"maxRetries","type":"`number`","description":"The maximum number of times this step should be retried in case of temporary failures.\nThe default is 0 (no retries).","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"autoRetry","type":"`boolean`","description":"If true, the step will be retried automatically in case of a temporary failure.\nThe default is true.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"retryInterval","type":"`number`","description":"The interval (in seconds) between retry attempts after a temporary failure.\nThe default is to retry immediately.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"retryIntervalAwaiting","type":"`number`","description":"The interval (in seconds) to retry a step even if its status is \"TransactionStepStatus.WAITING\".","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"maxAwaitingRetries","type":"`number`","description":"The maximum number of times to retry a step even if its status is \"TransactionStepStatus.WAITING\".","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"timeout","type":"`number`","description":"The maximum amount of time (in seconds) to wait for this step to complete.\nThis is NOT an execution timeout, the step will always be executed and wait for its response.\nIf the response is not received within the timeout set, it will be marked as \"TransactionStepStatus.TIMEOUT\" and the workflow will be reverted as soon as it receives the response.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"async","type":"`boolean`","description":"If true, the step is executed asynchronously. This means that the workflow will not wait for the response of this step.\nAsync steps require to have their responses set using \"setStepSuccess\" or \"setStepFailure\", unless it is combined with \"backgroundExecution: true\".\nIf combined with a timeout, and any response is not set within that interval, the step will be marked as \"TransactionStepStatus.TIMEOUT\" and the workflow will be reverted immediately.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"nested","type":"`boolean`","description":"It flags where the step contains a sub transaction inside itself.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"backgroundExecution","type":"`boolean`","description":"It applies to \"async\" steps only, allowing them to run in the background and automatically complete without external intervention.\nIt is ideal for time-consuming tasks that will be complete after the execution, contrasting with standard \"async\" operations that require a response to be set in a later stage.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"compensateAsync","type":"`boolean`","description":"If true, the compensation function for this step is executed asynchronously. Which means, the response has to be set using \"setStepSuccess\" or \"setStepFailure\".","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"noWait","type":"`boolean`","description":"If true, the workflow will not wait for their sibling steps to complete before moving to the next step.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"saveResponse","type":"`boolean`","description":"If true, the response of this step will be stored.\nDefault is true.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"next","type":"[TransactionStepsDefinition](../../types/workflows.TransactionStepsDefinition/page.mdx) \\| [TransactionStepsDefinition](../../types/workflows.TransactionStepsDefinition/page.mdx)[]","description":"Defines the next step(s) to execute after this step. Can be a single step or an array of steps.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"store","type":"`boolean`","description":"Whether we need to store checkpoint at this step.","optional":true,"defaultValue":"","expandable":false,"children":[]}]},{"name":"action","type":"`\"invoke\"` \\| `\"compensate\"`","description":"The action of the step.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"attempt","type":"`number`","description":"The attempt number of the step.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"container","type":"[MedusaContainer](../../types/workflows.MedusaContainer/page.mdx)","description":"The container used to access resources, such as services, in the step.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"context","type":"[Context](../workflows.Context/page.mdx)","description":"A context used to share resources, such as transaction manager, between the application and the module.","optional":false,"defaultValue":"","expandable":false,"children":[{"name":"transactionManager","type":"TManager","description":"An instance of a transaction manager of type `TManager`, which is a typed parameter passed to the context to specify the type of the `transactionManager`.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"manager","type":"TManager","description":"An instance of a manager, typically an entity manager, of type `TManager`, which is a typed parameter passed to the context to specify the type of the `manager`.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"isolationLevel","type":"`string`","description":"A string indicating the isolation level of the context. Possible values are `READ UNCOMMITTED`, `READ COMMITTED`, `REPEATABLE READ`, or `SERIALIZABLE`.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"enableNestedTransactions","type":"`boolean`","description":"A boolean value indicating whether nested transactions are enabled.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"eventGroupId","type":"`string`","description":"A string indicating the ID of the group to aggregate the events to be emitted at a later point.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"transactionId","type":"`string`","description":"A string indicating the ID of the current transaction.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"runId","type":"`string`","description":"A string indicating the ID of the current run.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"messageAggregator","type":"[IMessageAggregator](../workflows.IMessageAggregator/page.mdx)","description":"An instance of a message aggregator, which is used to aggregate messages to be emitted at a later point.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"requestId","type":"`string`","description":"A string indicating the ID of the current request.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"idempotencyKey","type":"`string`","description":"A string indicating the idempotencyKey of the current workflow execution.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"parentStepIdempotencyKey","type":"`string`","description":"A string indicating the idempotencyKey of the parent workflow execution.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"preventReleaseEvents","type":"`boolean`","description":"preventReleaseEvents","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"isCancelling","type":"`boolean`","description":"A boolean value indicating whether the current workflow execution is being cancelled.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"cancelingFromParentStep","type":"`boolean`","description":"Weither or not a sub workflow cancellation is being triggered from a parent step.\nIf true, the parent step will not be triggered by the sub workflow.","optional":true,"defaultValue":"","expandable":false,"children":[]}]},{"name":"idempotencyKey","type":"`string`","description":"The idempoency key of the step.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"metadata","type":"[TransactionMetadata](../../types/workflows.TransactionMetadata/page.mdx)","description":"Metadata passed in the input.","optional":false,"defaultValue":"","expandable":false,"children":[{"name":"model_id","type":"`string`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"idempotency_key","type":"`string`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"action","type":"`string`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"action_type","type":"[TransactionHandlerType](../../enums/workflows.TransactionHandlerType/page.mdx)","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"attempt","type":"`number`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"timestamp","type":"`number`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]}]},{"name":"stepName","type":"`string`","description":"The name of the step.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"workflowId","type":"`string`","description":"The ID of the workflow.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"eventGroupId","type":"`string`","description":"A string indicating the ID of the group to aggregate the events to be emitted at a later point.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"parentStepIdempotencyKey","type":"`string`","description":"The idempoency key of the parent step.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"preventReleaseEvents","type":"`boolean`","description":"Whether to prevent release events.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"runId","type":"`string`","description":"A string indicating the ID of the current run.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"transactionId","type":"`string`","description":"A string indicating the ID of the current transaction.","optional":true,"defaultValue":"","expandable":false,"children":[]}]} expandUrl="https://docs.medusajs.com/learn/fundamentals/data-models/manage-relationships#retrieve-records-of-relation" sectionTitle="StepExecutionContext"/>
