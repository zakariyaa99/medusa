import { TypeList } from "docs-ui"

# LocalWorkflow

## Accessors

- [container](page.mdx#container)

## Constructors

- [constructor](page.mdx#constructor)

## Methods

- [addAction](../../LocalWorkflow/methods/workflows.LocalWorkflow.addAction/page.mdx)
- [appendAction](../../LocalWorkflow/methods/workflows.LocalWorkflow.appendAction/page.mdx)
- [assertHandler](../../LocalWorkflow/methods/workflows.LocalWorkflow.assertHandler/page.mdx)
- [cancel](../../LocalWorkflow/methods/workflows.LocalWorkflow.cancel/page.mdx)
- [commit](../../LocalWorkflow/methods/workflows.LocalWorkflow.commit/page.mdx)
- [deleteAction](../../LocalWorkflow/methods/workflows.LocalWorkflow.deleteAction/page.mdx)
- [getFlow](../../LocalWorkflow/methods/workflows.LocalWorkflow.getFlow/page.mdx)
- [getRunningTransaction](../../LocalWorkflow/methods/workflows.LocalWorkflow.getRunningTransaction/page.mdx)
- [insertActionAfter](../../LocalWorkflow/methods/workflows.LocalWorkflow.insertActionAfter/page.mdx)
- [insertActionBefore](../../LocalWorkflow/methods/workflows.LocalWorkflow.insertActionBefore/page.mdx)
- [mergeActions](../../LocalWorkflow/methods/workflows.LocalWorkflow.mergeActions/page.mdx)
- [moveAction](../../LocalWorkflow/methods/workflows.LocalWorkflow.moveAction/page.mdx)
- [moveAndMergeNextAction](../../LocalWorkflow/methods/workflows.LocalWorkflow.moveAndMergeNextAction/page.mdx)
- [pruneAction](../../LocalWorkflow/methods/workflows.LocalWorkflow.pruneAction/page.mdx)
- [registerStepFailure](../../LocalWorkflow/methods/workflows.LocalWorkflow.registerStepFailure/page.mdx)
- [registerStepSuccess](../../LocalWorkflow/methods/workflows.LocalWorkflow.registerStepSuccess/page.mdx)
- [replaceAction](../../LocalWorkflow/methods/workflows.LocalWorkflow.replaceAction/page.mdx)
- [retryStep](../../LocalWorkflow/methods/workflows.LocalWorkflow.retryStep/page.mdx)
- [run](../../LocalWorkflow/methods/workflows.LocalWorkflow.run/page.mdx)
- [setOptions](../../LocalWorkflow/methods/workflows.LocalWorkflow.setOptions/page.mdx)

## Properties

- [container\_](page.mdx#container_)
- [contextualizedMedusaModules](page.mdx#contextualizedmedusamodules)
- [customOptions](page.mdx#customoptions)
- [flow](page.mdx#flow)
- [handlers](page.mdx#handlers)
- [medusaContext](page.mdx#medusacontext)
- [onLoad](page.mdx#onload)
- [registerEventCallbacks](page.mdx#registereventcallbacks)
- [resolveContainer](page.mdx#resolvecontainer)
- [workflow](page.mdx#workflow)
- [workflowId](page.mdx#workflowid)

## container

___

## constructor

### Parameters

<TypeList types={[{"name":"workflowId","type":"`string`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"modulesLoaded","type":"[MedusaContainer](../../types/workflows.MedusaContainer/page.mdx) \\| `object`[]","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]}]} expandUrl="https://docs.medusajs.com/learn/fundamentals/data-models/manage-relationships#retrieve-records-of-relation" sectionTitle="LocalWorkflow"/>

___

<TypeList types={[{"name":"container_","type":"[MedusaContainer](../../types/workflows.MedusaContainer/page.mdx)","description":"The Medusa Container extends [Awilix](https://github.com/jeffijoe/awilix) to\nprovide dependency injection functionalities.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"contextualizedMedusaModules","type":"`any`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"customOptions","type":"Partial&#60;[TransactionModelOptions](../../types/workflows.TransactionModelOptions/page.mdx)&#62;","description":"","optional":false,"defaultValue":"","expandable":false,"children":[{"name":"timeout","type":"`number`","description":"The global timeout for the entire transaction workflow (in seconds).","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"store","type":"`boolean`","description":"If true, the state of the transaction will be persisted.\n\nLearn more in [this documentation](https://docs.medusajs.com/learn/fundamentals/workflows/store-executions).","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"retentionTime","type":"`number`","description":"The number of seconds that the workflow execution should be stored in the database.\n\nLearn more in [this documentation](https://docs.medusajs.com/learn/fundamentals/workflows/store-executions).","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"storeExecution","type":"`boolean`","description":"If true, the execution details of each step will be stored.","optional":true,"defaultValue":"","expandable":false,"children":[],"deprecated":{"is_deprecated":true,"description":"no longer needed."}},{"name":"idempotent","type":"`boolean`","description":"If true, the workflow will use the transaction ID as the key to ensure only-once execution","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"schedule","type":"`string` \\| [SchedulerOptions](../../types/workflows.SchedulerOptions/page.mdx)","description":"Defines the workflow as a scheduled workflow that executes based on the cron configuration passed.\nThe value can either by a cron expression string, or an object that also allows to define the concurrency behavior.","optional":true,"defaultValue":"","expandable":false,"children":[]}]},{"name":"flow","type":"[OrchestratorBuilder](../workflows.OrchestratorBuilder/page.mdx)","description":"","optional":false,"defaultValue":"","expandable":false,"children":[{"name":"steps","type":"[InternalStep](../../interfaces/workflows.InternalStep/page.mdx)","description":"Defines the structure and behavior of a single step within a transaction workflow.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"hasChanges_","type":"`boolean`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]}]},{"name":"handlers","type":"Map&#60;string, [StepHandler](../../types/workflows.StepHandler/page.mdx)&#62;","description":"","optional":false,"defaultValue":"","expandable":false,"children":[{"name":"invoke","type":"[WorkflowStepHandler](../../types/workflows.WorkflowStepHandler/page.mdx)","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"compensate","type":"[WorkflowStepHandler](../../types/workflows.WorkflowStepHandler/page.mdx)","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]}]},{"name":"onLoad","type":"`any`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"registerEventCallbacks","type":"`any`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"resolveContainer","type":"`any`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"workflow","type":"[WorkflowDefinition](../../interfaces/workflows.WorkflowDefinition/page.mdx)","description":"","optional":false,"defaultValue":"","expandable":false,"children":[{"name":"id","type":"`string`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"handler","type":"(`container`: [MedusaContainer](../../types/workflows.MedusaContainer/page.mdx), `context?`: [Context](../../interfaces/workflows.Context/page.mdx)) => [TransactionStepHandler](../../types/workflows.TransactionStepHandler/page.mdx)","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"orchestrator","type":"[TransactionOrchestrator](../workflows.TransactionOrchestrator/page.mdx)","description":"TransactionOrchestrator is responsible for managing and executing distributed transactions.\nIt is based on a single transaction definition, which is used to execute all the transaction steps","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"flow_","type":"[TransactionStepsDefinition](../../types/workflows.TransactionStepsDefinition/page.mdx)","description":"Defines the structure and behavior of a single step within a transaction workflow.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"handlers_","type":"Map&#60;string, object&#62;","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"options","type":"[TransactionModelOptions](../../types/workflows.TransactionModelOptions/page.mdx)","description":"Defines the options for a transaction model, which are applicable to the entire workflow.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"requiredModules","type":"Set&#60;string&#62;","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"optionalModules","type":"Set&#60;string&#62;","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]}]},{"name":"workflowId","type":"`string`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"medusaContext","type":"[Context](../../interfaces/workflows.Context/page.mdx)","description":"A context used to share resources, such as transaction manager, between the application and the module.","optional":true,"defaultValue":"","expandable":false,"children":[{"name":"transactionManager","type":"TManager","description":"An instance of a transaction manager of type `TManager`, which is a typed parameter passed to the context to specify the type of the `transactionManager`.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"manager","type":"TManager","description":"An instance of a manager, typically an entity manager, of type `TManager`, which is a typed parameter passed to the context to specify the type of the `manager`.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"isolationLevel","type":"`string`","description":"A string indicating the isolation level of the context. Possible values are `READ UNCOMMITTED`, `READ COMMITTED`, `REPEATABLE READ`, or `SERIALIZABLE`.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"enableNestedTransactions","type":"`boolean`","description":"A boolean value indicating whether nested transactions are enabled.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"eventGroupId","type":"`string`","description":"A string indicating the ID of the group to aggregate the events to be emitted at a later point.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"transactionId","type":"`string`","description":"A string indicating the ID of the current transaction.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"runId","type":"`string`","description":"A string indicating the ID of the current run.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"messageAggregator","type":"[IMessageAggregator](../../interfaces/workflows.IMessageAggregator/page.mdx)","description":"An instance of a message aggregator, which is used to aggregate messages to be emitted at a later point.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"requestId","type":"`string`","description":"A string indicating the ID of the current request.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"idempotencyKey","type":"`string`","description":"A string indicating the idempotencyKey of the current workflow execution.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"parentStepIdempotencyKey","type":"`string`","description":"A string indicating the idempotencyKey of the parent workflow execution.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"preventReleaseEvents","type":"`boolean`","description":"preventReleaseEvents","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"isCancelling","type":"`boolean`","description":"A boolean value indicating whether the current workflow execution is being cancelled.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"cancelingFromParentStep","type":"`boolean`","description":"Weither or not a sub workflow cancellation is being triggered from a parent step.\nIf true, the parent step will not be triggered by the sub workflow.","optional":true,"defaultValue":"","expandable":false,"children":[]}]}]} expandUrl="https://docs.medusajs.com/learn/fundamentals/data-models/manage-relationships#retrieve-records-of-relation" sectionTitle="LocalWorkflow"/>
