import { TypeList } from "docs-ui"

# TransactionOrchestrator

TransactionOrchestrator is responsible for managing and executing distributed transactions.
It is based on a single transaction definition, which is used to execute all the transaction steps

## Constructors

- [constructor](page.mdx#constructor)

## Methods

- [beginTransaction](../../TransactionOrchestrator/methods/workflows.TransactionOrchestrator.beginTransaction/page.mdx)
- [buildSteps](../../TransactionOrchestrator/methods/workflows.TransactionOrchestrator.buildSteps/page.mdx)
- [cancelTransaction](../../TransactionOrchestrator/methods/workflows.TransactionOrchestrator.cancelTransaction/page.mdx)
- [clone](../../TransactionOrchestrator/methods/workflows.TransactionOrchestrator.clone/page.mdx)
- [getKeyName](../../TransactionOrchestrator/methods/workflows.TransactionOrchestrator.getKeyName/page.mdx)
- [getOptions](../../TransactionOrchestrator/methods/workflows.TransactionOrchestrator.getOptions/page.mdx)
- [getWorkflowOptions](../../TransactionOrchestrator/methods/workflows.TransactionOrchestrator.getWorkflowOptions/page.mdx)
- [isExpectedError](../../TransactionOrchestrator/methods/workflows.TransactionOrchestrator.isExpectedError/page.mdx)
- [registerStepFailure](../../TransactionOrchestrator/methods/workflows.TransactionOrchestrator.registerStepFailure/page.mdx)
- [registerStepSuccess](../../TransactionOrchestrator/methods/workflows.TransactionOrchestrator.registerStepSuccess/page.mdx)
- [resume](../../TransactionOrchestrator/methods/workflows.TransactionOrchestrator.resume/page.mdx)
- [retrieveExistingTransaction](../../TransactionOrchestrator/methods/workflows.TransactionOrchestrator.retrieveExistingTransaction/page.mdx)
- [retryStep](../../TransactionOrchestrator/methods/workflows.TransactionOrchestrator.retryStep/page.mdx)
- [skipStep](../../TransactionOrchestrator/methods/workflows.TransactionOrchestrator.skipStep/page.mdx)

## Properties

- [canContinue](page.mdx#cancontinue)
- [canMoveBackward](page.mdx#canmovebackward)
- [canMoveForward](page.mdx#canmoveforward)
- [checkAllSteps](page.mdx#checkallsteps)
- [checkStepTimeout](page.mdx#checksteptimeout)
- [checkTransactionTimeout](page.mdx#checktransactiontimeout)
- [compensateSteps](page.mdx#compensatesteps)
- [computeCurrentTransactionState](page.mdx#computecurrenttransactionstate)
- [countSiblings](page.mdx#countsiblings)
- [createStepExecutionPromise](page.mdx#createstepexecutionpromise)
- [createStepPayload](page.mdx#createsteppayload)
- [createTransactionFlow](page.mdx#createtransactionflow)
- [DEFAULT\_RETRIES](page.mdx#default_retries)
- [DEFAULT\_TTL](page.mdx#default_ttl)
- [definition](page.mdx#definition)
- [executeAsyncStep](page.mdx#executeasyncstep)
- [executeNext](page.mdx#executenext)
- [executeSyncStep](page.mdx#executesyncstep)
- [finalizeTransaction](page.mdx#finalizetransaction)
- [flagStepsToRevert](page.mdx#flagstepstorevert)
- [getCompensationSteps](page.mdx#getcompensationsteps)
- [getInvokeSteps](page.mdx#getinvokesteps)
- [getPreviousStep](page.mdx#getpreviousstep)
- [getStepByAction](page.mdx#getstepbyaction)
- [getTransactionAndStepFromIdempotencyKey](page.mdx#gettransactionandstepfromidempotencykey)
- [handleStepExpiration](page.mdx#handlestepexpiration)
- [handleStepFailure](page.mdx#handlestepfailure)
- [handleStepSuccess](page.mdx#handlestepsuccess)
- [hasExpired](page.mdx#hasexpired)
- [id](page.mdx#id)
- [invokeSteps](page.mdx#invokesteps)
- [loadTransactionById](page.mdx#loadtransactionbyid)
- [options](page.mdx#options)
- [parseFlowOptions](page.mdx#parseflowoptions)
- [prepareHandlerArgs](page.mdx#preparehandlerargs)
- [prepareStepForExecution](page.mdx#preparestepforexecution)
- [retryStep](page.mdx#retrystep)
- [ROOT\_STEP](page.mdx#root_step)
- [SEPARATOR](page.mdx#separator)
- [setStepFailure](page.mdx#setstepfailure)
- [setStepSuccess](page.mdx#setstepsuccess)
- [setStepTimeout](page.mdx#setsteptimeout)
- [skipStep](page.mdx#skipstep)
- [traceStep](page.mdx#tracestep)
- [traceTransaction](page.mdx#tracetransaction)
- [workflowOptions](page.mdx#workflowoptions)

## constructor

### Parameters

<TypeList types={[{"name":"__namedParameters","type":"`object`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[{"name":"id","type":"`string`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"definition","type":"[TransactionStepsDefinition](../../types/workflows.TransactionStepsDefinition/page.mdx)","description":"Defines the structure and behavior of a single step within a transaction workflow.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"options","type":"[TransactionModelOptions](../../types/workflows.TransactionModelOptions/page.mdx)","description":"Defines the options for a transaction model, which are applicable to the entire workflow.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"isClone","type":"`boolean`","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]}]}]} expandUrl="https://docs.medusajs.com/learn/fundamentals/data-models/manage-relationships#retrieve-records-of-relation" sectionTitle="TransactionOrchestrator"/>

___

<TypeList types={[{"name":"canContinue","type":"`any`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"canMoveBackward","type":"`any`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"canMoveForward","type":"`any`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"checkAllSteps","type":"`any`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"checkStepTimeout","type":"`any`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"checkTransactionTimeout","type":"`any`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"compensateSteps","type":"`any`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"computeCurrentTransactionState","type":"`any`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"countSiblings","type":"`any`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"createStepExecutionPromise","type":"`any`","description":"Create the step execution promise with optional tracing","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"createStepPayload","type":"`any`","description":"Create the payload for a step execution","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"createTransactionFlow","type":"`any`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"DEFAULT_RETRIES","type":"`number`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"DEFAULT_TTL","type":"`number`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"definition","type":"`any`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"executeAsyncStep","type":"`any`","description":"Execute an asynchronous step and handle its result","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"executeNext","type":"`any`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"executeSyncStep","type":"`any`","description":"Execute a synchronous step and handle its result","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"finalizeTransaction","type":"`any`","description":"Finalize the transaction when all steps are complete","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"flagStepsToRevert","type":"`any`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"getCompensationSteps","type":"`any`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"getInvokeSteps","type":"`any`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"getPreviousStep","type":"`any`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"getStepByAction","type":"`any`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"getTransactionAndStepFromIdempotencyKey","type":"`any`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"handleStepExpiration","type":"`any`","description":"Check if step or transaction has expired and handle timeouts","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"handleStepFailure","type":"`any`","description":"Handle step failure","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"handleStepSuccess","type":"`any`","description":"Handle successful step completion","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"hasExpired","type":"`any`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"id","type":"`string`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"invokeSteps","type":"`any`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"loadTransactionById","type":"`any`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"parseFlowOptions","type":"`any`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"prepareHandlerArgs","type":"`any`","description":"Prepare handler arguments for step execution","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"prepareStepForExecution","type":"`any`","description":"Prepare a step for execution by setting state and incrementing attempts","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"retryStep","type":"`any`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"ROOT_STEP","type":"`any`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"SEPARATOR","type":"`any`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"setStepFailure","type":"`any`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"setStepSuccess","type":"`any`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"setStepTimeout","type":"`any`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"skipStep","type":"`any`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"workflowOptions","type":"`any`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"options","type":"`any`","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"traceStep","type":"(`handler`: (...`args`: `any`[]) => Promise&#60;any&#62;, `metadata`: ``{ action: string ; type: \"invoke\" \\| \"compensate\" ; step_id: string ; step_uuid: string ; attempts: number ; failures: number ; async: boolean ; idempotency_key: string  }``) => Promise&#60;any&#62;","description":"Trace workflow steps for instrumentation","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"traceTransaction","type":"(`transactionResume`: (...`args`: `any`[]) => Promise&#60;void&#62;, `metadata`: ``{ model_id: string ; transaction_id: string ; flow_metadata: undefined \\| &#123; [key: string]: unknown; eventGroupId?: string ; parentIdempotencyKey?: string ; cancelingFromParentStep?: boolean ; sourcePath?: string ; preventReleaseEvents?: boolean ; parentStepIdempotencyKey?: string  &#125;  }``) => Promise&#60;any&#62;","description":"Trace workflow transaction for instrumentation","optional":true,"defaultValue":"","expandable":false,"children":[]}]} expandUrl="https://docs.medusajs.com/learn/fundamentals/data-models/manage-relationships#retrieve-records-of-relation" sectionTitle="TransactionOrchestrator"/>
