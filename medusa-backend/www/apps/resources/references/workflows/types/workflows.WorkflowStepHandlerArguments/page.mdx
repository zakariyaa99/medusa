import { TypeList } from "docs-ui"

# WorkflowStepHandlerArguments

 **WorkflowStepHandlerArguments**: `Object`

<TypeList types={[{"name":"container","type":"[MedusaContainer](../workflows.MedusaContainer/page.mdx)","description":"The Medusa Container extends [Awilix](https://github.com/jeffijoe/awilix) to\nprovide dependency injection functionalities.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"payload","type":"`unknown`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"invoke","type":"`object`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"compensate","type":"`object`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"metadata","type":"[TransactionMetadata](../workflows.TransactionMetadata/page.mdx)","description":"","optional":false,"defaultValue":"","expandable":false,"children":[{"name":"model_id","type":"`string`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"idempotency_key","type":"`string`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"action","type":"`string`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"action_type","type":"[TransactionHandlerType](../../enums/workflows.TransactionHandlerType/page.mdx)","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"attempt","type":"`number`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"timestamp","type":"`number`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]}]},{"name":"transaction","type":"[DistributedTransaction](../../classes/workflows.DistributedTransaction/page.mdx)","description":"","optional":false,"defaultValue":"","expandable":false,"children":[{"name":"#private","type":"`any`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"flow","type":"`any`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"handler","type":"[TransactionStepHandler](../workflows.TransactionStepHandler/page.mdx)","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"modelId","type":"`string`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"transactionId","type":"`string`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"runId","type":"`string`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"errors","type":"`any`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"context","type":"`any`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"keyValueStore","type":"`any`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"keyPrefix","type":"`string`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"payload","type":"`any`","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]}]},{"name":"step","type":"[TransactionStep](../../classes/workflows.TransactionStep/page.mdx)","description":"TransactionStep","optional":false,"defaultValue":"","expandable":false,"children":[{"name":"stepFailed","type":"`any`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"id","type":"`string`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"depth","type":"`number`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"definition","type":"[TransactionStepsDefinition](../workflows.TransactionStepsDefinition/page.mdx)","description":"Defines the structure and behavior of a single step within a transaction workflow.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"invoke","type":"`object`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"compensate","type":"`object`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"attempts","type":"`number`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"failures","type":"`number`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"temporaryFailedAt","type":"`null` \\| `number`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"lastAttempt","type":"`null` \\| `number`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"retryRescheduledAt","type":"`null` \\| `number`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"hasScheduledRetry","type":"`boolean`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"timedOutAt","type":"`null` \\| `number`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"next","type":"`string`[]","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"saveResponse","type":"`boolean`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"uuid","type":"`string`","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"startedAt","type":"`number`","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"_v","type":"`number`","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]}]},{"name":"orchestrator","type":"[TransactionOrchestrator](../../classes/workflows.TransactionOrchestrator/page.mdx)","description":"TransactionOrchestrator is responsible for managing and executing distributed transactions.\nIt is based on a single transaction definition, which is used to execute all the transaction steps","optional":false,"defaultValue":"","expandable":false,"children":[{"name":"id","type":"`string`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"ROOT_STEP","type":"`any`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"DEFAULT_TTL","type":"`number`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"invokeSteps","type":"`any`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"compensateSteps","type":"`any`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"definition","type":"`any`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"DEFAULT_RETRIES","type":"`number`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"workflowOptions","type":"`any`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"SEPARATOR","type":"`any`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"getPreviousStep","type":"`any`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"getInvokeSteps","type":"`any`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"getCompensationSteps","type":"`any`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"countSiblings","type":"`any`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"canMoveForward","type":"`any`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"canMoveBackward","type":"`any`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"canContinue","type":"`any`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"hasExpired","type":"`any`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"checkTransactionTimeout","type":"`any`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"checkStepTimeout","type":"`any`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"checkAllSteps","type":"`any`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"computeCurrentTransactionState","type":"`any`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"flagStepsToRevert","type":"`any`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"setStepSuccess","type":"`any`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"retryStep","type":"`any`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"skipStep","type":"`any`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"setStepTimeout","type":"`any`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"setStepFailure","type":"`any`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"executeNext","type":"`any`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"finalizeTransaction","type":"`any`","description":"Finalize the transaction when all steps are complete","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"prepareStepForExecution","type":"`any`","description":"Prepare a step for execution by setting state and incrementing attempts","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"createStepPayload","type":"`any`","description":"Create the payload for a step execution","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"prepareHandlerArgs","type":"`any`","description":"Prepare handler arguments for step execution","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"createStepExecutionPromise","type":"`any`","description":"Create the step execution promise with optional tracing","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"executeSyncStep","type":"`any`","description":"Execute a synchronous step and handle its result","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"executeAsyncStep","type":"`any`","description":"Execute an asynchronous step and handle its result","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"handleStepExpiration","type":"`any`","description":"Check if step or transaction has expired and handle timeouts","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"handleStepSuccess","type":"`any`","description":"Handle successful step completion","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"handleStepFailure","type":"`any`","description":"Handle step failure","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"parseFlowOptions","type":"`any`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"createTransactionFlow","type":"`any`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"loadTransactionById","type":"`any`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"getStepByAction","type":"`any`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"getTransactionAndStepFromIdempotencyKey","type":"`any`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"options","type":"`any`","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"traceTransaction","type":"(`transactionResume`: (...`args`: `any`[]) => Promise&#60;void&#62;, `metadata`: ``{ model_id: string ; transaction_id: string ; flow_metadata: undefined \\| &#123; [key: string]: unknown; eventGroupId?: string ; parentIdempotencyKey?: string ; cancelingFromParentStep?: boolean ; sourcePath?: string ; preventReleaseEvents?: boolean ; parentStepIdempotencyKey?: string  &#125;  }``) => Promise&#60;any&#62;","description":"Trace workflow transaction for instrumentation","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"traceStep","type":"(`handler`: (...`args`: `any`[]) => Promise&#60;any&#62;, `metadata`: ``{ action: string ; type: \"invoke\" \\| \"compensate\" ; step_id: string ; step_uuid: string ; attempts: number ; failures: number ; async: boolean ; idempotency_key: string  }``) => Promise&#60;any&#62;","description":"Trace workflow steps for instrumentation","optional":true,"defaultValue":"","expandable":false,"children":[]}]},{"name":"context","type":"[Context](../../interfaces/workflows.Context/page.mdx)","description":"A context used to share resources, such as transaction manager, between the application and the module.","optional":true,"defaultValue":"","expandable":false,"children":[{"name":"transactionManager","type":"TManager","description":"An instance of a transaction manager of type `TManager`, which is a typed parameter passed to the context to specify the type of the `transactionManager`.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"manager","type":"TManager","description":"An instance of a manager, typically an entity manager, of type `TManager`, which is a typed parameter passed to the context to specify the type of the `manager`.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"isolationLevel","type":"`string`","description":"A string indicating the isolation level of the context. Possible values are `READ UNCOMMITTED`, `READ COMMITTED`, `REPEATABLE READ`, or `SERIALIZABLE`.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"enableNestedTransactions","type":"`boolean`","description":"A boolean value indicating whether nested transactions are enabled.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"eventGroupId","type":"`string`","description":"A string indicating the ID of the group to aggregate the events to be emitted at a later point.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"transactionId","type":"`string`","description":"A string indicating the ID of the current transaction.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"runId","type":"`string`","description":"A string indicating the ID of the current run.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"messageAggregator","type":"[IMessageAggregator](../../interfaces/workflows.IMessageAggregator/page.mdx)","description":"An instance of a message aggregator, which is used to aggregate messages to be emitted at a later point.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"requestId","type":"`string`","description":"A string indicating the ID of the current request.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"idempotencyKey","type":"`string`","description":"A string indicating the idempotencyKey of the current workflow execution.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"parentStepIdempotencyKey","type":"`string`","description":"A string indicating the idempotencyKey of the parent workflow execution.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"preventReleaseEvents","type":"`boolean`","description":"preventReleaseEvents","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"isCancelling","type":"`boolean`","description":"A boolean value indicating whether the current workflow execution is being cancelled.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"cancelingFromParentStep","type":"`boolean`","description":"Weither or not a sub workflow cancellation is being triggered from a parent step.\nIf true, the parent step will not be triggered by the sub workflow.","optional":true,"defaultValue":"","expandable":false,"children":[]}]}]} expandUrl="https://docs.medusajs.com/learn/fundamentals/data-models/manage-relationships#retrieve-records-of-relation" sectionTitle="WorkflowStepHandlerArguments"/>
